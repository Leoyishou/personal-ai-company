# 人物拼接封面

**适用场景：** UP主/KOL介绍、人物专题、B站百大盘点、创作者故事、人物访谈预告

**设计特点：**
- **分区结构**：上部 70% 人物头像 + 下部 30% 手绘标题
- **头像区**：黑白线刻风格（木刻版画质感），基于真人照片生成
- **标题区**：手绘白板风格横幅，5:2 扁平比例
- **最终合成**：Python 脚本精确拼接，比例完全可控
- **输出比例**：3:4 竖版（672×896px），适合小红书/B站

**核心优势：**
- 头像和标题独立生成，各自质量有保障
- 拼接比例代码控制，100% 精确
- 避免 AI 一次性生成的布局不可控问题

## 完整流程

### Step 1: 搜索人物照片

```python
mcp__firecrawl__firecrawl_search(
    query="人物名 照片",
    sources=[{"type": "images"}],
    limit=5
)
```

### Step 2: 下载照片

```bash
curl -sL -x http://127.0.0.1:6152 "照片URL" -o /tmp/person_photo.jpg
```

### Step 3: 生成线刻风格头像（占 70%）

```bash
cd ~/.claude/skills/api-draw
python scripts/nanobanana_draw.py "Transform this photo into a black and white woodcut print style portrait:
- Use fine parallel hatching lines to render the face
- Keep head and upper body as vertical portrait
- Pure white background
- High contrast black lines
- Modern minimalist engraving style
- Output as 3:4 vertical ratio" \
--image /tmp/person_photo.jpg \
--style "线刻肖像" \
--subject "人物名头像"
```

### Step 4: 生成手绘白板标题（占 30%）

```bash
python scripts/nanobanana_draw.py "Hand-drawn whiteboard style title banner, WIDE horizontal format (5:2 ratio, approximately 672x269 pixels):
- Pure white/cream background
- Bold hand-drawn Chinese text centered:「[标题文案]」
- Black marker strokes with hand-drawn imperfection
- Small doodle icons: [相关图标，如学士帽、麦克风、播放按钮等]
- Excalidraw/sketch aesthetic, wobbly lines
- Clean, minimal, professional
- Text should be LARGE and prominent" \
--style "手绘白板" \
--subject "人物名标题"
```

### Step 5: Python 拼接合成

```python
from PIL import Image

# 读取两张图
portrait = Image.open('头像路径.png')
title = Image.open('标题路径.png')

# 目标：3:4 比例，宽度 672，高度 896
# 头像 70% = 627px，标题 30% = 269px
target_width = 672
portrait_height = 627
title_height = 269

# 缩放头像
p_w, p_h = portrait.size
portrait_ratio = target_width / p_w
portrait_resized = portrait.resize((target_width, int(p_h * portrait_ratio)), Image.Resampling.LANCZOS)

# 裁剪头像到目标高度（从顶部开始）
if portrait_resized.size[1] > portrait_height:
    portrait_cropped = portrait_resized.crop((0, 0, target_width, portrait_height))
else:
    portrait_cropped = portrait_resized

# 缩放标题
t_w, t_h = title.size
title_ratio = target_width / t_w
title_resized = title.resize((target_width, int(t_h * title_ratio)), Image.Resampling.LANCZOS)

# 居中裁剪/填充标题到目标高度
if title_resized.size[1] > title_height:
    y_offset = (title_resized.size[1] - title_height) // 2
    title_cropped = title_resized.crop((0, y_offset, target_width, y_offset + title_height))
else:
    title_canvas = Image.new('RGB', (target_width, title_height), (255, 255, 255))
    y_offset = (title_height - title_resized.size[1]) // 2
    title_canvas.paste(title_resized, (0, y_offset))
    title_cropped = title_canvas

# 拼接
final = Image.new('RGB', (target_width, portrait_height + title_height), (255, 255, 255))
final.paste(portrait_cropped, (0, 0))
final.paste(title_cropped, (0, portrait_height))
final.save('最终封面.png')
```

## 参数说明

| 参数 | 说明 | 推荐值 |
|------|------|--------|
| 头像占比 | 上部区域 | 70%（627px） |
| 标题占比 | 下部区域 | 30%（269px） |
| 输出宽度 | 固定 | 672px |
| 输出高度 | 固定 | 896px（3:4） |
| 标题比例 | 横向扁平 | 约 5:2 |

## 标题小图标建议

| 人物类型 | 推荐图标 |
|----------|----------|
| UP主/博主 | 播放按钮、麦克风、摄像机 |
| 学者/教授 | 学士帽、书本、眼镜 |
| 创业者 | 火箭、灯泡、图表 |
| 音乐人 | 音符、吉他、耳机 |
| 程序员 | 代码符号 { }、电脑、咖啡 |

## 完整示例（周杨 HOPICO）

```bash
# 1. 搜索照片
mcp__firecrawl__firecrawl_search(query="HOPICO 周杨 照片", sources=[{"type": "images"}], limit=5)

# 2. 下载
curl -sL -x http://127.0.0.1:6152 "照片URL" -o /tmp/zhouyang.jpg

# 3. 生成头像
python scripts/nanobanana_draw.py "Transform this photo into black and white woodcut print style portrait..." \
  --image /tmp/zhouyang.jpg --style "线刻肖像" --subject "周杨头像"

# 4. 生成标题
python scripts/nanobanana_draw.py "Hand-drawn whiteboard style title banner...
Bold text:「从土木老哥到4届百大UP主」
Small icons: graduation cap, microphone, play button" \
  --style "手绘白板" --subject "周杨标题"

# 5. Python 拼接（见上方代码）
```
