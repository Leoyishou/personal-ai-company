# 工作流规则

## MCP 配置

新建 MCP 时，**必须先问用户**：「这个 MCP 是全局使用还是仅当前项目使用？」

| 作用域 | 配置位置 |
|--------|---------|
| 全局 | `~/.claude.json` 根级别的 `mcpServers` |
| 项目级 | `项目目录/.mcp.json` |

## Linear Issue 记录

Hook 自动管理，标题格式：`【MMdd-HH】任务目标`

- 创建时机：第 6 轮对话
- 更新时机：之后每 2 轮

## 代码改动后

**IMPORTANT**: 如果当前项目存在 README 类说明文档，代码改动后要同步更新。

## 视频/社媒内容

**Hook 优先，三秒法则** —— 开头三秒必须有强吸引力的钩子（悬念、冲突、反常识、强视觉冲击），先抓注意力再展开内容。

**图文信息密度** —— 每张图的信息量控制在 3 秒内能看完的程度。信息过密宁可拆成多张图，也不要塞在一张里。

视频合成时，TTS 音频首尾加静音填充（开头 0.8s，结尾 1s）。

## 分析类请求

**IMPORTANT**: 所有涉及「分析」的请求，必须触发「调研&分析」skill，不要用简单的 WebSearch 应付。

用户来问的问题默认都不是简单问题，需要深度调研和多角度分析。

## 能力查询

当用户询问某个模型、库、框架的能力时：

1. **优先 Context7**：用 MCP context7 工具查找官方文档
2. **备选 Firecrawl**：Context7 无结果时，用 Firecrawl 抓取官方手册
