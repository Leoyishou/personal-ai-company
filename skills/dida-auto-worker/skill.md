# Dida Auto Worker Skill

自动扫描滴答清单任务，识别可自动完成的任务并执行。

## 触发方式

用户说：
- "扫一下滴答清单"
- "帮我处理滴答任务"
- "看看有什么能帮我做的"
- "/dida" 或 "/dida-auto"

## 执行流程

### 1. 获取任务列表

调用 `mcp__dida365__list_tasks` 获取未完成任务（limit 50）。

### 2. AI 自主判断任务类型

对每个任务，根据标题和描述判断是否可自动完成。**可自动完成的任务类型**：

#### A. 调研类
特征：
- 标题含"调研"、"了解"、"研究"、"对比"、"选型"
- 想知道某个技术/工具/方案是什么、怎么用、哪个好
- 问句形式的任务

处理方式：使用 WebSearch + WebFetch 收集信息，生成调研报告

#### B. 内容分析类
特征：
- 包含链接（知乎、小红书、B站、YouTube、X/Twitter、播客等）
- 标题含"分析"、"总结"、"看看这个"
- 想让 AI 帮忙消化某个内容

处理方式：
- 视频链接：调用 video-downloader-skill 下载，转文字后分析
- 文章/帖子：用 WebFetch 抓取内容，生成摘要/分析
- 播客：下载音频，转文字总结

#### C. 写 Demo 类
特征：
- 标题含"写一个"、"demo"、"示例"、"试试"、"实现"
- 明确描述了要实现什么功能
- 技术性任务

处理方式：直接在本地生成代码文件

#### D. 简单执行类
特征：
- 标题含"下载"、"保存"、"爬取"
- 有明确的输入和输出

处理方式：直接执行并保存结果

### 3. 不自动处理的任务

- 纯笔记/记录类（无明确动作）
- 需要用户决策的任务
- 涉及个人隐私/敏感操作
- 需要登录特定账号才能完成的
- 重复性任务（有 repeatFlag 的循环提醒）

### 4. 执行与输出

**输出规则**：
- 简短结果：直接更新到任务描述
- 代码/大文件：保存到 `~/usr/projects/inbox/dida-outputs/<日期>/<任务ID>/`
- 在任务描述中附上文件路径

**执行确认**：
- 扫描完成后，先列出识别到的可处理任务
- 等用户确认后再批量执行
- 或用户可以选择"全部自动执行"

### 5. 结果汇报

执行完成后输出汇总：
```
已完成 X 个任务：
1. [任务标题] - [简要结果]
2. ...

待查看文件：
- ~/usr/projects/inbox/dida-outputs/2026-01-25/xxx/report.md
```

## 使用示例

```
用户: 扫一下滴答清单

Claude: 扫描到 50 个任务，其中 8 个可以自动处理：

【调研类】
1. "如何让大模型稳定输出JSON格式" → 可搜索分析
2. "ASR 技术对比" → 可生成调研报告

【内容分析类】
3. "https://www.zhihu.com/question/xxx" → 可抓取分析
4. "叮咚买菜播客" → 可下载转文字

【写 Demo 类】
5. "写一个工具遍历滴答清单" → 可直接实现

要我处理哪些？输入编号或"全部"
```

## 配置

输出目录：`~/usr/projects/inbox/dida-outputs/`
